<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Lista - Livros</title>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="tabela.css" />
	<style>
</style>

	<h:outputScript name="jquery-3.5.1.min.js" />

</h:head>
<h:body>
	<div class="menu">
		<h:form>
			<div class="cliente_menu">
				<ul>
					<li><h2 style="display:inline;">EBook</h2></li>
					<li><h:commandLink value="Login"
							action="login.xhtml?faces-redirect=true" /></li>
					<li><h:commandLink value="Cadastro"
							action="cadastro.xhtml?faces-redirect=true" /></li>
					<li><h:commandLink value="Lista"
							action="tabela.xhtml?faces-redirect=true" /></li>
				</ul>
			</div>
			<div class="wrapper_header"></div>
		</h:form>
	</div>
	<script type="text/javascript">
		$(document).ready(function(e) {
			$('.btn_modal').click(function() {
				$('#modal').fadeIn(500);
			});
			$('.fechar').click(function() {
				$('#modal').fadeOut(500);
			})
		});
	</script>
	<div id="modal">
		<div class="modal-box">
			<div class="fechar">X</div>
			<div class="form_global_modal" style="padding-top: 10px;">
				<div class="form-row">
					<div class="form-group">
						<h:outputLabel value="Titulo:" />
						<h:inputText value="#{modalController.entity.titulo}" />


						<h:outputLabel value="Editora:" />
						<h:inputText value="#{modalController.entity.editora}" />

						<h:outputLabel value="Idioma:" />
						<h:inputText value="#{modalController.entity.idioma}" />


						<h:outputLabel value="Categoria:" />
						<h:inputText value="#{modalController.entity.categoria}" />
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<h:outputLabel id="ano" value="Ano:" />
						<h:inputText value="#{modalController.entity.ano}"
							converterMessage="Erro ao converter a data">
							<f:convertDateTime type="localDate" pattern="dd/MM/yyyy" />
						</h:inputText>
					</div>
					<div class="form-group">
						<h:outputLabel value="Paginas:" />
						<h:inputText value="#{modalController.entity.numeroPaginas}" />
					</div>
					<div class="form-group">
						<h:outputLabel value="Descricão:" />
						<h:inputText value="#{modalController.entity.descricao}" />
					</div>
				</div>
			</div>
			<div class="form-boton">
				<h:commandButton value="Editar" />
			</div>
		</div>
	</div>
	<div class="container">
	<h:messages id="messages"  style="padding: 10px; font-size: 18px;"
						infoStyle="position:absolute; padding:1.5%; left:50%; border-color: #87c940;color: #FFF; background-color: #a0d468; list-style-type:none; border-radius: 3px;"
						errorStyle=" border-color: #e8: #fff;
						 list-style-type:none; padding: 100px; border-radius: 3px;"/>
		<div class="contentTable">
			<h:form id="busca">
				<h:outputLabel value="Buscar: " />
				<h:inputText style="width: 250px; margin-bottom: 3%;"
					value="#{listaController.tituloBusca}"
					pt:placeholder="titulo do livro">
					<f:ajax listener="#{listaController.atualizar()}" event="keyup"
						render="table" />
				</h:inputText>
			</h:form>
			<div id="table_dev">
				<h:form id="table">
					<h:dataTable value="#{listaController.listaEntity}" var="i">
						<h:column>
							<f:facet name="header"></f:facet>
							<h:commandLink class="btn_modal" value="alterar"
								action="#{modalController.editar(i)}"
								style="background-color:#ed5565; 
									padding: 10%; border: black solid 2px; border-radius: 7px; color: #fff;  ">
								<f:ajax render="modal messages" />

							</h:commandLink>
						</h:column>
						<h:column>
							<f:facet name="header"></f:facet>
							<h:commandLink
								style="background-color:#ed5565; 
									padding: 10%; border: black solid 2px; border-radius: 7px; color: #fff;"
								value="excluir" actionListener="#{modalController.excluir(i)}" />
						</h:column>

						<h:column>
							<f:facet name="header">Id</f:facet>
							<h:outputLabel value="#{i.id}" />
						</h:column>

						<h:column>
							<f:facet name="header">Titulo</f:facet>
							<h:outputLabel value="#{i.titulo}" />
						</h:column>

						<h:column>
							<f:facet name="header">Editora</f:facet>
							<h:outputLabel value="#{i.editora}" />
						</h:column>

						<h:column>
							<f:facet name="header">Categoria</f:facet>
							<h:outputLabel value="#{i.categoria}" />
						</h:column>

						<h:column>
							<f:facet name="header">Ano</f:facet>
							<h:outputLabel value="#{i.ano}">
								<f:convertDateTime type="localDate" pattern="yyyy" />
							</h:outputLabel>
						</h:column>

						<h:column>
							<f:facet name="header">Paginas</f:facet>
							<h:outputLabel value="#{i.numeroPaginas}" />
						</h:column>

						<h:column>
							<f:facet name="header">Preço</f:facet>
							<h:outputLabel value="#{i.preco}" />
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
		</div>
	</div>
</h:body>
</html>